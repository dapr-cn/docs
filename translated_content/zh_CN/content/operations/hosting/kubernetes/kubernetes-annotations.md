---
type: docs
title: "Dapr Kubernetes pod annotations规范"
linkTitle: "Kubernetes annotations"
weight: 40000
description: "在Kubernetes环境中配置Dapr时可用的annotations"
---

下表显示了所有Dapr支持的pod规范annotations。

| Annotation                                        | 说明                                                                                                                                                                                                                                 |
| ------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `dapr.io/enabled`                                 | 设定此参数为 `true` 注入Dapr sidecar到pod                                                                                                                                                                                                   |
| `dapr.io/app-port`                                | 这个参数告诉Dapr你的应用程序正在监听哪个端口。                                                                                                                                                                                                          |
| `dapr.io/app-id`                                  | 应用程序唯一 ID。 用于服务发现、状态封装 和 发布/订阅 消费者ID                                                                                                                                                                                               |
| `dapr.io/log-level`                               | 为 Dapr sidecar设置日志级别。 允许的值是`debug`，`info`，`warn`，`error`。 默认是 `info`                                                                                                                                                               |
| `dapr.io/config`                                  | 告诉 Dapr 要使用哪个配置 CRD                                                                                                                                                                                                                |
| `dapr.io/log-as-json`                             | 将此参数设置为`true`以JSON格式输出日志。 默认值为 `false`.                                                                                                                                                                                            |
| `dapr.io/enable-profiling`                        | 设置此参数为 `true` 在端口 `7777` 上启动Dapr分析服务器。 默认值为 `false`.                                                                                                                                                                               |
| `dapr.io/api-token-secret`                        | 告诉Dapr使用哪个Kubernetes密钥来进行基于令牌的API认证。 默认情况下未设置。                                                                                                                                                                                     |
| `dapr.io/app-protocol`                            | 告诉 Dapr 你的应用程序正在使用哪种协议。 有效选项是 `http` and `grpc`。 Default is `http`                                                                                                                                                                 |
| `dapr.io/app-max-concurrency`                     | 限制应用程序的并发量。 有效的数值是大于 `0`                                                                                                                                                                                                           |
| `dapr.io/app-ssl`                                 | 告诉Dapr通过不安全的SSL连接调用应用程序。 同时适用于HTTP和gRPC。 Traffic between your app and the Dapr sidecar is encrypted with a certificate issued by a non-trusted certificate authority, which is considered insecure. 默认值为 `false`.                  |
| `dapr.io/metrics-port`                            | 设置 sidecar 度量服务器的端口。 默认值为 `9090`                                                                                                                                                                                                   |
| `dapr.io/sidecar-cpu-limit`                       | Dapr sidecar可以使用的最大CPU数量。 请参阅 [此处](https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/quota-memory-cpu-namespace/) 的有效值。 默认情况下未设置                                                                                |
| `dapr.io/sidecar-memory-limit`                    | Dapr sidecar可以使用的最大内存量。 请参阅 [此处](https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/quota-memory-cpu-namespace/) 的有效值。 默认情况下未设置                                                                                  |
| `dapr.io/sidecar-cpu-request`                     | Dapr sidecar要求的 CPU 数量。 请参阅 [此处](https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/quota-memory-cpu-namespace/) 的有效值。 默认情况下未设置                                                                                  |
| `dapr.io/sidecar-memory-request`                  | Dapr sidecar 请求的内存数量。请参阅 [此处](https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/quota-memory-cpu-namespace/) 的有效值。 默认情况下未设置                                                                                     |
| `dapr.io/sidecar-liveness-probe-delay-seconds`    | Sidecar容器启动后的秒数，然后才启动活度探测。 在 [此处](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes) 阅读更多 默认值为 `3`                                                            |
| `dapr.io/sidecar-liveness-probe-timeout-seconds`  | Sidecar 存活探针超时的秒数。 在 [此处](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes) 阅读更多 默认值为 `3`                                                                    |
| `dapr.io/sidecar-liveness-probe-period-seconds`   | 每隔多长时间（以秒为单位）进行一次 sidecar 存活探针。 在 [此处](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes) 阅读更多 默认值为 `6`                                                       |
| `dapr.io/sidecar-liveness-probe-threshold`        | 当 sidecar 存活探针失败时，Kubernetes会在放弃之前尝试N次。 在这种情况下，Pod 将被标记为不健康。 在 [此处](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes) 阅读更多关于 `failureThreshold` 。 默认值为 `3`   |
| `dapr.io/sidecar-readiness-probe-delay-seconds`   | Sidecar 容器启动后，启动准备就绪探针前的秒数。 在 [此处](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes) 阅读更多 默认值为 `6` 默认值为 `3`                                                  |
| `dapr.io/sidecar-readiness-probe-timeout-seconds` | Sidecar 准备就绪探针超时的秒数。 在 [此处](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes) 阅读更多 默认值为 `3`                                                                  |
| `dapr.io/sidecar-readiness-probe-period-seconds`  | 每个多长时间（以秒为单位）进行一次 sidecar 准备就绪探针。 在 [此处](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes) 阅读更多 默认值为 `6`                                                     |
| `dapr.io/sidecar-readiness-probe-threshold`       | 当 sidecar 准备就绪探针失败时，Kubernetes会在放弃之前尝试N次。 在这种情况下，Pod 将被标记为未就绪。 在 [此处](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes) 阅读更多关于 `failureThreshold` 。 默认值为 `3` |
| `dapr.io/http-max-request-size`                   | 增加http和grpc服务器请求正文参数的最大大小，单位为MB，以处理大文件的上传。 默认值为 `4` MB                                                                                                                                                                             |
| `dapr.io/env`                                     | List of environment variable to be injected into the sidecar. Strings consisting of key=value pairs separated by a comma.                                                                                                          |
